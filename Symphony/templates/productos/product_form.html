{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="container py-5 position-relative">

  {% if messages %}
    <div class="mb-3">
      {% for message in messages %}
        <div class="alert alert-{{ message.tags }}">{{ message }}</div>
      {% endfor %}
    </div>
  {% endif %}

  <h1 class="mb-4">
    {% if form.instance.pk %}
      ‚úèÔ∏è Editar clase musical
    {% else %}
      ‚ûï Nueva clase musical
    {% endif %}
  </h1>

  <form method="post" novalidate class="bg-white p-4 rounded shadow">
    {% csrf_token %}
    {{ form.non_field_errors }}

    <div class="mb-3">
      {{ form.instrumento.label_tag }}
      {{ form.instrumento }}
      {{ form.instrumento.errors }}
    </div>

    <div class="mb-3">
      {{ form.profesor.label_tag }}
      {{ form.profesor }}
      {{ form.profesor.errors }}
    </div>

    <div class="mb-3">
      {{ form.horario.label_tag }}
      {{ form.horario }}
      {{ form.horario.errors }}
    </div>

    <div class="mb-3">
      {{ form.precio.label_tag }}
      {{ form.precio }}
      {{ form.precio.errors }}
    </div>

    <div class="mb-3">
      {{ form.cupos.label_tag }}
      {{ form.cupos }}
      {{ form.cupos.errors }}
    </div>

    {% if form.instance.pk %}
    <div class="mb-3 text-muted">
      √öltima modificaci√≥n: {{ form.instance.fecha_ultima_modificacion|date:"d M Y H:i" }}
    </div>
    {% endif %}

    <div class="d-flex justify-content-between mt-4">
      <button type="submit" class="btn btn-success px-4">Guardar clase</button>
      <a href="{% url 'productos:lista' %}" class="btn btn-outline-secondary px-4">‚Üê Regresar</a>
    </div>

    {% if form.instance.pk %}
    <div class="d-flex justify-content-end mt-3">
      <a href="{% url 'productos:editar' form.instance.pk %}" class="btn btn-warning me-2">‚úèÔ∏è Editar</a>
      <a href="{% url 'productos:eliminar' form.instance.pk %}" class="btn btn-danger">üóëÔ∏è Eliminar</a>
    </div>
    {% endif %}
  </form>
</div>
{% endblock %}